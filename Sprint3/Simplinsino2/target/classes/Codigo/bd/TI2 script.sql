-- MySQL Script generated by MySQL Workbench
-- Mon Apr  4 18:23:42 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `Aluno`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Aluno` ;

CREATE TABLE IF NOT EXISTS `Aluno` (
  `IdAluno` INT NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Email` VARCHAR(45) NULL,
  `Usuario` VARCHAR(45) NULL,
  `Senha` VARCHAR(45) NULL,
  `Pagamento` VARCHAR(45) NULL,
  PRIMARY KEY (`IdAluno`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Curso`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Curso` ;

CREATE TABLE IF NOT EXISTS `Curso` (
  `Disciplina_DisciplinaId` INT NOT NULL,
  `idCurso` INT NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Duracao` VARCHAR(45) NULL,
  `Descricao` VARCHAR(45) NULL,
  `Imagem` VARCHAR(45) NULL,
  PRIMARY KEY (`Disciplina_DisciplinaId`, `idCurso`),
  CONSTRAINT `fk_Curso_Disciplina1`
    FOREIGN KEY (`Disciplina_DisciplinaId`)
    REFERENCES `Disciplina` (`DisciplinaId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Curso_Disciplina1_idx` ON `Curso` (`Disciplina_DisciplinaId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Curso_Aluno`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Curso_Aluno` ;

CREATE TABLE IF NOT EXISTS `Curso_Aluno` (
  `Curso_idCurso` INT NOT NULL,
  `Aluno_IdAluno` INT NOT NULL,
  PRIMARY KEY (`Curso_idCurso`, `Aluno_IdAluno`),
  CONSTRAINT `fk_Curso_has_Aluno_Curso1`
    FOREIGN KEY (`Curso_idCurso`)
    REFERENCES `Curso` (`idCurso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Curso_has_Aluno_Aluno1`
    FOREIGN KEY (`Aluno_IdAluno`)
    REFERENCES `Aluno` (`IdAluno`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Curso_has_Aluno_Aluno1_idx` ON `Curso_Aluno` (`Aluno_IdAluno` ASC) VISIBLE;

CREATE INDEX `fk_Curso_has_Aluno_Curso1_idx` ON `Curso_Aluno` (`Curso_idCurso` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Curso_Professor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Curso_Professor` ;

CREATE TABLE IF NOT EXISTS `Curso_Professor` (
  `Curso_idCurso` INT NOT NULL,
  `Professor_IdProfessor` INT NOT NULL,
  PRIMARY KEY (`Curso_idCurso`, `Professor_IdProfessor`),
  CONSTRAINT `fk_Curso_has_Professor_Curso1`
    FOREIGN KEY (`Curso_idCurso`)
    REFERENCES `Curso` (`idCurso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Curso_has_Professor_Professor1`
    FOREIGN KEY (`Professor_IdProfessor`)
    REFERENCES `Professor` (`IdProfessor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Curso_has_Professor_Professor1_idx` ON `Curso_Professor` (`Professor_IdProfessor` ASC) VISIBLE;

CREATE INDEX `fk_Curso_has_Professor_Curso1_idx` ON `Curso_Professor` (`Curso_idCurso` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Disciplina`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Disciplina` ;

CREATE TABLE IF NOT EXISTS `Disciplina` (
  `DisciplinaId` INT NOT NULL,
  `Nome` VARCHAR(45) NULL,
  PRIMARY KEY (`DisciplinaId`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Links Confiaveis`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Links Confiaveis` ;

CREATE TABLE IF NOT EXISTS `Links Confiaveis` (
  `Disciplina_DisciplinaId` INT NOT NULL,
  `IdSIteConfiavel` INT NOT NULL,
  `Nome Site` VARCHAR(45) NULL,
  `Link` VARCHAR(45) NULL,
  PRIMARY KEY (`Disciplina_DisciplinaId`, `IdSIteConfiavel`),
  CONSTRAINT `fk_Links Confiaveis_Disciplina1`
    FOREIGN KEY (`Disciplina_DisciplinaId`)
    REFERENCES `Disciplina` (`DisciplinaId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Links Confiaveis_Disciplina1_idx` ON `Links Confiaveis` (`Disciplina_DisciplinaId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Moderador`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Moderador` ;

CREATE TABLE IF NOT EXISTS `Moderador` (
  `idModerador` INT NOT NULL,
  `Email` VARCHAR(45) NULL,
  `Usuario` VARCHAR(45) NULL,
  `Senha` VARCHAR(45) NULL,
  PRIMARY KEY (`idModerador`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Professor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Professor` ;

CREATE TABLE IF NOT EXISTS `Professor` (
  `IdProfessor` INT NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Email` VARCHAR(45) NULL,
  `Usuario` VARCHAR(45) NULL,
  `Senha` VARCHAR(45) NULL,
  PRIMARY KEY (`IdProfessor`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Professor_Moderador`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Professor_Moderador` ;

CREATE TABLE IF NOT EXISTS `Professor_Moderador` (
  `Professor_IdProfessor` INT NOT NULL,
  `Moderador_idModerador` INT NOT NULL,
  PRIMARY KEY (`Professor_IdProfessor`, `Moderador_idModerador`),
  CONSTRAINT `fk_Professor_has_Moderador_Professor1`
    FOREIGN KEY (`Professor_IdProfessor`)
    REFERENCES `Professor` (`IdProfessor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Professor_has_Moderador_Moderador1`
    FOREIGN KEY (`Moderador_idModerador`)
    REFERENCES `Moderador` (`idModerador`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Professor_has_Moderador_Moderador1_idx` ON `Professor_Moderador` (`Moderador_idModerador` ASC) VISIBLE;

CREATE INDEX `fk_Professor_has_Moderador_Professor1_idx` ON `Professor_Moderador` (`Professor_IdProfessor` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Video`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Video` ;

CREATE TABLE IF NOT EXISTS `Video` (
  `Curso_idCurso` INT NOT NULL,
  `VideoId` INT NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Descricao` VARCHAR(45) NULL,
  `Link` VARCHAR(45) NULL,
  PRIMARY KEY (`Curso_idCurso`, `VideoId`),
  CONSTRAINT `fk_Videos_Curso1`
    FOREIGN KEY (`Curso_idCurso`)
    REFERENCES `Curso` (`idCurso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Videos_Curso1_idx` ON `Video` (`Curso_idCurso` ASC) VISIBLE;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
